(this.webpackJsonpgithubook=this.webpackJsonpgithubook||[]).push([[0],{233:function(e,t){},252:function(e,t,a){},253:function(e,t,a){},255:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(29),l=a.n(o),r=(a(93),a(94),a(86)),i=a(2),s=a(7),u="SET_CURRENT_USER",m=function(e){return{type:u,payload:e}},d=a(3),h=a.n(d),g=a(18),p=a(13),E=a(24),b=a(25),v=function(e){var t,a=new Date,n=new Date(e),c=a.getTime()-n.getTime(),o=Math.floor(c/36e5),l=Math.floor(c%36e5/6e4),r=n.getHours(),i=n.getMinutes(),s=!0;return r>12&&(s=!1,r-=12),t=[n.getFullYear()+"\ub144 ",n.getMonth()+1+"\uc6d4 ",n.getDate()+"\uc77c ",["\uc77c\uc694\uc77c ","\uc6d4\uc694\uc77c ","\ud654\uc694\uc77c ","\uc218\uc694\uc77c ","\ubaa9\uc694\uc77c ","\uae08\uc694\uc77c ","\ud1a0\uc694\uc77c "][n.getDay()],s?"\uc624\uc804 ":"\uc624\ud6c4 ",1===String(r).length?"0"+r:r,":",i<10?"0"+i:i],c>864e5?[t]:o>0?[t,o+"\uc2dc\uac04 \uc804"]:[t,l+"\ubd84 \uc804"]},f=a(31),y=a.n(f),k=a(49),N=a.n(k),_=function(e){var t=Object(n.useState)(),a=Object(p.a)(t,2),o=a[0],l=a[1];return Object(n.useEffect)((function(){e.comment[e.idx]&&l(e.comment[e.idx])})),c.a.createElement("div",{className:"my-4"},o?o.length>0?o.map((function(e){return c.a.createElement("div",{key:e.id,className:"my-2 d-flex"},c.a.createElement("img",{style:{width:"30px",height:"30px",borderRadius:"50%"},src:e.user.avatar_url}),c.a.createElement("div",{className:"mx-3 p-2",style:{borderRadius:"15px",backgroundColor:"#F0F2F5"}},c.a.createElement("h6",null,e.user.login),c.a.createElement(N.a,{source:e.body})))})):c.a.createElement("div",null,"\ub313\uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4"):c.a.createElement("div",{className:"d-flex justify-content-center"},c.a.createElement("div",{className:"spinner-border",role:"status"},c.a.createElement("span",{className:"sr-only"},"Loading..."))))},j=function(e,t){return h.a.get(e,{headers:{Authorization:"token ".concat(t)}})},w=function(e,t,a){var n={body:t},c={headers:{Authorization:"token ".concat(a),accept:"application/vnd.github.v3+json"}};return h.a.post(e,n,c)},x=function(e){var t,a,o=Object(s.c)((function(e){return e.auth})),l=Object(n.useState)({}),r=Object(p.a)(l,2),i=r[0],u=r[1],m=v(e.e.created_at),d=[m[0][1],m[0][2],m[0][4],m[0][5],m[0][6],m[0][7]],f=function(e){var t=document.getElementById(e);null===t||void 0===t||t.classList.toggle("active")},k=function(t,a){"PushEvent"===e.e.type?function(e,t){return h.a.get(e,{headers:{Authorization:"token ".concat(t)}}).then((function(e){return j(e.data.comments_url,t)}))}(t,o.user).then((function(e){console.log(e),u(Object(b.a)(Object(b.a)({},i),{},Object(E.a)({},a,Object(g.a)(e.data))))})):j(t,o.user).then((function(e){return u(Object(b.a)(Object(b.a)({},i),{},Object(E.a)({},a,Object(g.a)(e.data))))}))},N=c.a.createElement(c.a.Fragment,null,c.a.createElement("img",{style:{width:"30px",height:"30px",borderRadius:"50%"},src:e.data.avatar_url}),c.a.createElement("div",{className:"mx-3",style:{width:"100%"}},c.a.createElement("textarea",{autoFocus:!0,style:{width:"100%",resize:"none"},id:"commentBody",placeholder:"\ub313\uae00"}),c.a.createElement("button",{className:"btn btn-success",style:{float:"right"},type:"submit"},"Submit")));return c.a.createElement("div",{key:e.e.id,className:"githubook-card"},c.a.createElement("div",{className:"githubook-card-title"},c.a.createElement("div",null,c.a.createElement("span",{className:"githubook-card-info"},c.a.createElement("img",{src:e.e.actor.avatar_url,style:{height:"40px",width:"40px"}}),C(e.e.actor.avatar_url,e.e.actor.login))),c.a.createElement("div",null,c.a.createElement("div",{className:"mb-0"},c.a.createElement("span",{className:"githubook-card-info"},e.e.actor.login," >\xa0"," ",C(e.e.actor.avatar_url,e.e.actor.login)),c.a.createElement("a",{href:"https://github.com/"+e.e.repo.name},e.e.repo.name)),c.a.createElement("div",{className:"mb-0 githubook-card-date"},m[1]?m[1]:d,c.a.createElement("span",{className:"githubook-card-date-tooltips"},m[0])))),c.a.createElement("div",{className:"githubook-card-main"},"PushEvent"===e.e.type&&c.a.createElement(c.a.Fragment,null,"Commits",c.a.createElement("p",{className:"lead"},"- ",null===(t=e.e.payload.ref)||void 0===t?void 0:t.split("/")[2]," branch"),c.a.createElement("hr",null),e.e.payload.commits.map((function(e){return c.a.createElement("div",{key:e.sha},c.a.createElement("div",{className:"py-3"},c.a.createElement(y.a,{source:e.message}),c.a.createElement("p",{className:"lead"},"comitted by ",e.author.name)),c.a.createElement("hr",null),c.a.createElement("div",{className:""},c.a.createElement("a",{onClick:function(){f(e.sha),k(e.url,e.sha)},style:{fontSize:"12px"}},"\ub313\uae00"),c.a.createElement("div",{className:"githubook-card-comment",id:e.sha},i&&c.a.createElement(_,{comment:i,idx:e.sha}),c.a.createElement("form",{className:"d-flex",onSubmit:function(t){t.preventDefault();var a=t.target.commentBody.value;t.target.commentBody.value="",w(e.url+"/comments",a,o.user).then((function(t){k(e.url,e.sha),console.log(t)}))}},N))),c.a.createElement("hr",null))}))),"IssuesEvent"===e.e.type&&c.a.createElement(c.a.Fragment,null,"Issues - ",e.e.payload.action,c.a.createElement("hr",null),c.a.createElement("div",{className:"py-3"},c.a.createElement(y.a,{source:null===(a=e.e.payload.issue)||void 0===a?void 0:a.body,escapeHtml:!1})),c.a.createElement("hr",null),c.a.createElement("div",{className:""},c.a.createElement("a",{onClick:function(){f(e.e.id),k(e.e.payload.issue.comments_url,e.e.id)},style:{fontSize:"12px"}},"\ub313\uae00"),c.a.createElement("div",{className:"githubook-card-comment",id:e.e.id},i&&c.a.createElement(_,{comment:i,idx:e.e.id}),c.a.createElement("div",{className:""},c.a.createElement("form",{className:"d-flex",onSubmit:function(t){t.preventDefault();var a=t.target.commentBody.value;t.target.commentBody.value="",w(e.e.payload.issue.comments_url,a,o.user).then((function(t){k(e.e.payload.issue.comments_url,e.e.id),console.log(t)}))}},N)))),c.a.createElement("hr",null)),"PullRequestEvent"===e.e.type&&c.a.createElement(c.a.Fragment,null,"PullRequest - ",e.e.payload.action,c.a.createElement("hr",null),c.a.createElement("div",{className:"py-3"},e.e.payload.pull_request.body?c.a.createElement(y.a,{source:e.e.payload.pull_request.body,escapeHtml:!1}):c.a.createElement("p",{className:"lead"},"No description")),c.a.createElement("hr",null),c.a.createElement("div",null,c.a.createElement("a",{onClick:function(){f(e.e.id),k(e.e.payload.pull_request.comments_url,e.e.id)},style:{fontSize:"12px"}},"\ub313\uae00"),c.a.createElement("div",{className:"githubook-card-comment",id:e.e.id},i&&c.a.createElement(_,{comment:i,idx:e.e.id}),c.a.createElement("div",{className:""},c.a.createElement("form",{className:"d-flex",onSubmit:function(t){t.preventDefault();var a=t.target.commentBody.value;t.target.commentBody.value="",w(e.e.payload.issue.comments_url,a,o.user).then((function(t){k(e.e.payload.issue.comments_url,e.e.id),console.log(t)}))}},N)))),c.a.createElement("hr",null))))},O=function(e){return h.a.get("https://api.github.com/user",{headers:{Authorization:"token ".concat(e)}})},S=function(e,t){var a={headers:{Authorization:"token ".concat(t)}};return h.a.get("https://api.github.com/users/".concat(e,"/events"),a)},q=function(e){return c.a.createElement("div",{id:"githubook-nav"},c.a.createElement("div",{id:"githubook-nav-side-l"},c.a.createElement("img",{src:"https://img.icons8.com/cotton/40/000000/cat--v3.png",style:{width:"35px",height:"35px"}})),c.a.createElement("div",{id:"githubook-nav-main"},c.a.createElement("ul",{onClick:function(t){"UL"!==t.target.tagName&&document.getElementsByClassName("active")[0].classList.toggle("active"),"IMG"===t.target.tagName&&(e.handleEventType(t.target.parentElement.id),t.target.parentElement.classList.toggle("active")),"LI"===t.target.tagName&&(e.handleEventType(t.target.id),t.target.classList.toggle("active"))},id:"githubook-nav-main-ul",className:"githubook-nav-main-ul"},c.a.createElement("li",{id:"All",className:"githubook-card-date active"},c.a.createElement("img",{src:"https://img.icons8.com/android/24/000000/home.png"}),c.a.createElement("span",{className:"githubook-card-date-tooltips"},"All Events")),c.a.createElement("li",{id:"PushEvent",className:"githubook-card-date"},c.a.createElement("img",{src:"https://img.icons8.com/ios/40/000000/commit-git.png"}),c.a.createElement("span",{className:"githubook-card-date-tooltips"},"Commits")),c.a.createElement("li",{id:"PullRequestEvent",className:"githubook-card-date"},c.a.createElement("img",{src:"https://img.icons8.com/ios/24/000000/pull-request.png"}),c.a.createElement("span",{className:"githubook-card-date-tooltips"},"Pull Requests")),c.a.createElement("li",{id:"IssuesEvent",className:"githubook-card-date"},c.a.createElement("img",{src:"https://img.icons8.com/ios/100/000000/exclamation-mark.png"}),c.a.createElement("span",{className:"githubook-card-date-tooltips"},"Issues")))),c.a.createElement("div",{id:"githubook-nav-side-r"},c.a.createElement("img",{className:"mr-2",src:e.data.avatar_url,style:{width:"30px",height:"30px",borderRadius:"50%"}}),c.a.createElement("span",{className:"mr-4"},e.data.login)))},R=(a(252),function(e,t,a){return c.a.createElement("div",{className:"githubook-menubox"},c.a.createElement("div",{className:"githubook-menubox-icon"},c.a.createElement("img",{className:a,src:e})),c.a.createElement("div",{className:"githubook-menubox-text"},c.a.createElement("span",null,t)))}),C=function(e,t){return c.a.createElement("div",{className:"githubook-card-info-box"},c.a.createElement("div",null,c.a.createElement("img",{src:e,style:{height:"60px",width:"60px"}}),t),c.a.createElement("div",{className:"mt-3"},c.a.createElement("a",{href:"https://github.com/"+t},"\uae43\ud5c8\ube0c - https://github.com/",t)))},F=function(){var e=Object(s.c)((function(e){return e.auth})),t=Object(n.useState)(!1),a=Object(p.a)(t,2),o=a[0],l=a[1],r=Object(n.useState)(),i=Object(p.a)(r,2),u=i[0],m=i[1],d=Object(n.useState)([]),E=Object(p.a)(d,2),b=E[0],v=E[1],f=Object(n.useState)([]),y=Object(p.a)(f,2),k=y[0],N=y[1],_=Object(n.useState)("All"),j=Object(p.a)(_,2),w=j[0],F=j[1],A=Object(n.useState)(10),B=Object(p.a)(A,2),I=B[0],z=B[1];Object(n.useEffect)((function(){O(e.user).then((function(t){var a,n=[],c=0;console.log(t.data),m(t.data),S(t.data.login,e.user).then((function(e){n.push.apply(n,Object(g.a)(e.data))})),(a=e.user,h.a.get("https://api.github.com/user/following",{headers:{Authorization:"token ".concat(a)}})).then((function(t){v(t.data);new Promise((function(a,o){t.data.forEach((function(o,l){S(o.login,e.user).then((function(e){n.push.apply(n,Object(g.a)(e.data)),(c+=1)===t.data.length&&a(n)}))}))})).then((function(e){e.sort((function(e,t){return new Date(e.created_at)>new Date(t.created_at)?-1:1})),N(e),console.log(e)}))}))}))}),[]);return c.a.createElement("div",{id:"githubook-container"},u&&c.a.createElement(c.a.Fragment,null,c.a.createElement(q,{data:u,handleEventType:function(e){F(e),z(10)}}),c.a.createElement("div",{id:"githubook-body"},c.a.createElement("div",{id:"githubook-side-l"},[[u.avatar_url,u.login,"circle","/githubook"],["https://img.icons8.com/fluent/48/000000/github.png","\uae43\ud5c8\ube0c","square",u.html_url],["https://img.icons8.com/dotty/50/000000/repository.png","\uc800\uc7a5\uc18c","square",u.html_url+"?tab=repositories"],["https://img.icons8.com/ios-glyphs/50/000000/pet-commands-follow.png","\ud314\ub85c\uc6cc","square",u.html_url+"?tab=followers"],["https://img.icons8.com/doodle/48/000000/follow--v1.png","\ud314\ub85c\uc789","square",u.html_url+"?tab=followings"]].map((function(e,t){return c.a.createElement("a",{key:t,href:e[3]},R(e[0],e[1],e[2]))})),o?c.a.createElement(c.a.Fragment,null,[["https://img.icons8.com/bubbles/48/000000/list.png","Gist","square","https://gist.github.com/"+u.login],["https://img.icons8.com/cotton/64/000000/star.png","Star","square",u.html_url+"?tab=stars"]].map((function(e,t){return c.a.createElement("a",{key:t+4,href:e[3]},R(e[0],e[1],e[2]))})),c.a.createElement("div",{onClick:function(){return l(!o)}},R("https://img.icons8.com/windows/64/000000/minus.png","\uac04\ub7b5\ud558\uac8c \ubcf4\uae30","square"))):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{onClick:function(){return l(!o)}},R("https://img.icons8.com/windows/48/000000/plus.png","\ub354\ubcf4\uae30","square")))),c.a.createElement("div",{id:"githubook-main"},function(){for(var e=[],t=0;t<k.length&&("All"===w?"PushEvent"!==k[t].type&&"PullRequestEvent"!==k[t].type&&"IssuesEvent"!==k[t].type||e.push(c.a.createElement(x,{key:k[t].id,e:k[t],data:u})):k[t].type===w&&e.push(c.a.createElement(x,{key:k[t].id,e:k[t],data:u})),e.length!==I);t++);return e}(),c.a.createElement("a",{className:"p-4",onClick:function(){return z(I+10)}},"\ub354 \ubcf4\uae30")),c.a.createElement("div",{id:"githubook-side-r"},c.a.createElement("div",{className:"madeinfo"},c.a.createElement("h1",null,"Made By"),c.a.createElement("div",{className:"madeinfo-content"},c.a.createElement("a",{href:"https://github.com/hyeonjaae/githubook"},R("https://avatars0.githubusercontent.com/u/34333474?v=4","HyeonJaae","circle"))),c.a.createElement("hr",null)),c.a.createElement("div",{className:"following"},c.a.createElement("h1",null,"Following"),c.a.createElement("div",{className:"following-content"},b.map((function(e,t){return c.a.createElement("div",{key:t,className:""},c.a.createElement("a",{href:e.html_url},R(e.avatar_url,e.login,"circle")),C(e.avatar_url,e.login))}))))))))},A=(a(253),function(e){var t=Object(s.b)(),a=Object(s.c)((function(e){return e.auth}));return Object(n.useEffect)((function(){var a=window.location.search.split("=")[1];a&&h.a.post("https://github.com/login/oauth/access_token",{code:a,client_id:"504c566c0230964f360d",client_secret:"e6821d09a158291b5704634c2f49052d50a6e278"},{headers:{accept:"application/json"}}).then((function(a){console.log(a),t(m(a.data.access_token)),localStorage.setItem("token",a.data.access_token),e.history.push("/")})).catch((function(e){return console.log(e)}))}),[]),c.a.createElement(c.a.Fragment,null,a.user?c.a.createElement(F,null):c.a.createElement("div",{id:"home-container"},c.a.createElement("a",{href:"https://github.com/login/oauth/authorize?client_id=504c566c0230964f360d&redirect_uri=http://localhost:3000&scope=repo"},"dev"),c.a.createElement("a",{href:"https://github.com/login/oauth/authorize?client_id=504c566c0230964f360d&redirect_uri=https://hyeonjaae.github.io/githubook&scope=repo"},c.a.createElement("img",{src:"https://d2eip9sf3oo6c2.cloudfront.net/tags/images/000/000/276/square_480/github_logo.png",style:{width:"40px",height:"40px"}}),c.a.createElement("img",{src:"https://en.followersnet.com/wp-content/uploads/2016/02/Facebook-1.png",style:{width:"60px",height:"60px"}}))))}),B=function(e){var t=Object(s.b)();return Object(n.useEffect)((function(){h.a.post("https://cors-anywhere.herokuapp.com/https://github.com/login/oauth/access_token",{code:window.location.search.split("=")[1],client_id:"504c566c0230964f360d",client_secret:"e6821d09a158291b5704634c2f49052d50a6e278"},{headers:{accept:"application/json"}}).then((function(a){console.log(a),t(m(a.data.access_token)),e.history.push("/")})).catch((function(e){return console.log(e)}))}),[]),c.a.createElement("div",{className:"text-center"},c.a.createElement("div",{className:"spinner-border",role:"status"},c.a.createElement("span",{className:"sr-only"},"Loading...")))},I=function(){return Object(s.b)()(m(localStorage.getItem("token"))),c.a.createElement(r.a,{basename:"/githubook"},c.a.createElement(i.a,{exact:!0,path:"/",component:A}),c.a.createElement(i.a,{path:"/login",component:B}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var z=a(15),D=a(87),P={user:{}},L={},T="counter/INCREASE",M="counter/DECREASE",H={count:0},G=Object(z.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return{user:t.payload};default:return e}},counter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return{count:e.count+1};case M:return{count:e.count-1};case"counter/INCREASE_BY":return{count:e.count+t.payload};default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;default:return e}}}),J=function(e){return function(t){return function(a){console.log("current state",e.getState()),console.log("action",a);var n=t(a);return console.log("next state",e.getState()),console.log("\n"),n}}},U=[D.a,J],W=Object(z.e)(G,{},Object(z.d)(z.a.apply(void 0,U)));l.a.render(c.a.createElement(s.a,{store:W},c.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},88:function(e,t,a){e.exports=a(255)},93:function(e,t,a){}},[[88,1,2]]]);
//# sourceMappingURL=main.caa53618.chunk.js.map